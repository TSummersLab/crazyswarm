qDes = [ 0   0   0; ...
          1   0   0; ...
          1   1   0; ...
          0   1   0; ...
          0  0.5 0.25; ...
         0.5  0  0.25; ...
          1  0.5 0.25; ...
         0.5  1  0.25; ...
         0.5 0.5  0.5 ]' *1.5;
scatter3(qDes(1,:), qDes(2,:), qDes(3,:), 'filled')
hold on

adj = [ ...
0   1   0   1   1   1   0   0   1  ; ...
1   0   1   0   0   1   1   0   0  ; ...
0   1   0   1   0   0   1   1   1  ; ...
1   0   1   0   1   0   0   1   0  ; ...
1   0   0   1   0   1   0   1   1  ; ...
1   1   0   0   1   0   1   0   1  ; ...
0   1   1   0   0   1   0   1   1  ; ...
0   0   1   1   1   0   1   0   1  ; ...
1   0   1   0   1   1   1   1   0  ];

N = size(adj,1);
X = qDes(1,:);
Y = qDes(2,:);
Z = qDes(3,:);

for m = 1 : N
    for n = 1 : N
        if adj(m,n)
        plot3([X(m),X(n)],[Y(m),Y(n)], ...
             [Z(m),Z(n)], 'LineWidth',2, ...
             'Color', [0.4 0.4 0.4]);
        end
    end
end  

n = N;
q = qDes;
Df = zeros(n,n);
for i = 1 : n
    for j = i+1 : n
        Df(i,j) = norm(q(3*i-2:3*i)-q(3*j-2:3*j), 2);
    end
end
Df = Df + Df'
[Ar, Kd] = FindGains3D_Ver1_0(qDes, adj)